<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆé¤å¤§è½‰ç›¤</title>
    <style>
        /* å¥¶èŒ¶è‰²ç³»é…è‰² */
        :root {
            --bg-color: #f5ebe0;      /* æ·ºç±³è‰²èƒŒæ™¯ */
            --card-bg: #ffffff;
            --primary-brown: #a98467; /* ç„¦ç³–æ£• */
            --accent-tan: #adc178;   /* æŠ¹èŒ¶å¥¶èŒ¶è‰²(é»ç¶´) */
            --text-main: #6c584c;     /* æ·±å’–æ–‡å­— */
            --wheel-1: #e6ccb2;       /* è½‰ç›¤è‰²1 */
            --wheel-2: #ede0d4;       /* è½‰ç›¤è‰²2 */
        }

        body { 
            font-family: 'Microsoft JhengHei', sans-serif; 
            display: flex; 
            justify-content: center; 
            align-items: center; 
            height: 100vh; 
            margin: 0; 
            background-color: var(--bg-color); 
            color: var(--text-main);
        }

        .card { 
            background: var(--card-bg); 
            padding: 2.5rem; 
            border-radius: 30px; 
            box-shadow: 0 15px 35px rgba(108, 88, 76, 0.1); 
            text-align: center; 
            width: 350px; 
            position: relative;
        }

        h2 { margin-top: 0; letter-spacing: 2px; }

        /* è½‰ç›¤å®¹å™¨ */
        .wheel-container {
            position: relative;
            width: 250px;
            height: 250px;
            margin: 20px auto;
        }

        #canvas {
            width: 100%;
            height: 100%;
            transition: transform 4s cubic-bezier(0.15, 0, 0.15, 1);
        }

        /* æŒ‡é‡ */
        .pointer {
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 15px solid transparent;
            border-right: 15px solid transparent;
            border-top: 30px solid var(--primary-brown);
            z-index: 10;
        }

        #result { 
            font-size: 1.2rem; 
            font-weight: bold; 
            color: var(--primary-brown); 
            margin: 20px 0; 
            min-height: 1.5em;
        }

        button { 
            background-color: var(--primary-brown); 
            color: white; 
            border: none; 
            padding: 15px; 
            font-size: 1.1rem; 
            border-radius: 50px; 
            cursor: pointer; 
            transition: 0.3s; 
            width: 100%; 
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(169, 132, 103, 0.3);
        }

        button:hover { background-color: #7f5539; transform: translateY(-2px); }
        button:disabled { background-color: #ccc; cursor: not-allowed; }

        .list-hint { font-size: 0.8rem; color: #a98467; margin-top: 15px; opacity: 0.8; }
    </style>
</head>
<body>

<div class="card">
    <h2>ğŸ´ åˆé¤å¤§è½‰ç›¤</h2>
    
    <div class="wheel-container">
        <div class="pointer"></div>
        <canvas id="canvas" width="500" height="500"></canvas>
    </div>

    <div id="result">é»æ“Šä¸‹æ–¹é–‹å§‹è½‰å‹•</div>
    <button id="spinBtn" onclick="spinWheel()">æ—‹è½‰å§ï¼Œæˆ‘çš„åˆé¤ï¼</button>
    <p class="list-hint">ä»Šå¤©è¦åƒä»€éº¼åˆé¤å‘¢ï¼Ÿ</p>
</div>

<script>
    const options = ["è‡ªåŠ©é¤","æºé¦™æ‹Œéºµ","å…¨å®¶","ä¸‰å•†å·§ç¦","å·é©•ç‰›è‚‰éºµ","æ—¥è¼•å¥½é£Ÿ","å‘é™½å†¬ç“œé£¯","è‚¯å¾·åŸº","Nu pasta","éµè‚‰ç³»åˆ—","èƒ½é‡å…ˆç”Ÿ","ç‚’é£¯","å–«äºŒç¢—","éº¥ç•¶å‹","Subway","JSP","ä¸‰å•†é®®äº”ä¸¼","é£Ÿä¹‹æ‚…","é´¨è‚‰æ¦®","æ¾å±‹","æ‘©æ–¯æ¼¢å ¡","è‰¾éš†","7-11","ä¸€æ¶´å·è¾›å ‚","ä¾†ä¾†éºµé£Ÿé¤¨","æ¡ƒå¸å»š","éºµå±‹ äº­","å¥½èºå”†","Mr.è‡­"];
    const canvas = document.getElementById('canvas');
    const ctx = canvas.getContext('2d');
    const spinBtn = document.getElementById('spinBtn');
    const resultDiv = document.getElementById('result');
    
    const numOptions = options.length;
    const arcSize = (2 * Math.PI) / numOptions;
    let currentRotation = 0;

    // ç¹ªè£½è½‰ç›¤
    function drawWheel() {
        options.forEach((text, i) => {
            const angle = i * arcSize;
            
            // è¨­å®šé¡è‰²ç›¸é–“
            ctx.fillStyle = (i % 2 === 0) ? "#e6ccb2" : "#ede0d4";
            
            ctx.beginPath();
            ctx.moveTo(250, 250);
            ctx.arc(250, 250, 250, angle, angle + arcSize);
            ctx.fill();
            ctx.save();

            // ç¹ªè£½æ–‡å­—
            ctx.translate(250, 250);
            ctx.rotate(angle + arcSize / 2);
            ctx.textAlign = "right";
            ctx.fillStyle = "#6c584c";
            ctx.font = "bold 30px Microsoft JhengHei";
            ctx.fillText(text, 230, 10);
            ctx.restore();
        });
    }

    function spinWheel() {
        spinBtn.disabled = true;
        resultDiv.innerText = "æŒ‘é¸ä¸­...";
        
        // éš¨æ©Ÿå¢åŠ æ—‹è½‰åœˆæ•¸ (è‡³å°‘ 5 åœˆ)
        const extraDegree = Math.floor(Math.random() * 360);
        const totalDegree = currentRotation + (360 * 5) + extraDegree;
        currentRotation = totalDegree;
        
        canvas.style.transform = `rotate(${totalDegree}deg)`;

        // ç­‰å¾…å‹•ç•«çµæŸ (4ç§’)
        setTimeout(() => {
            spinBtn.disabled = false;
            
            // è¨ˆç®—çµæœ
            // å› ç‚ºæ˜¯é †æ™‚é‡æ—‹è½‰ï¼Œæ‰€ä»¥è¦ç”¨ 360 æ¸›å»é¤˜æ•¸ï¼Œä¸¦è€ƒæ…®æŒ‡é‡åœ¨æ­£ä¸Šæ–¹ (-90åº¦)
            const actualDegree = (totalDegree % 360);
            const index = Math.floor(((360 - actualDegree + 270) % 360) / (360 / numOptions));
            
            const winner = options[index];
            resultDiv.innerText = "ğŸ‰ ä»Šå¤©å°±åƒï¼š " + winner + " ğŸ‰";
        }, 4000);
    }

    drawWheel();
</script>

</body>
</html>
